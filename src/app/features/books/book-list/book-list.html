<div class="min-h-screen bg-bg-soft">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

    <!-- Header -->
    <div class="flex flex-col gap-4 mb-8 md:flex-row md:justify-between md:items-start">
      <div class="flex flex-col gap-2">
        <p class="text-3xl md:text-5xl font-bold text-text-main">All Books</p>
        <p class="text-base text-text-muted max-w-lg">
          Discover our curated collection of literature and art focused publications for modern and creative minds
        </p>
      </div>
      <div class="flex flex-row gap-3 shrink-0">
        <button class="flex items-center gap-2 border border-text-muted px-4 py-2 bg-white rounded-md hover:bg-accent-light transition-colors text-text-main text-sm">
          <lucide-icon [img]="Filter" class="w-4 h-4"></lucide-icon>
          Filter
        </button>
        <button class="flex items-center gap-2 border border-text-muted px-4 py-2 bg-white rounded-md hover:bg-accent-light transition-colors text-text-main text-sm">
          <lucide-icon [img]="ArrowUpDown" class="w-4 h-4"></lucide-icon>
          Sort By
        </button>
      </div>
    </div>

    <!-- Categories -->
    <div class="flex flex-row gap-2 mb-8 flex-wrap">
      <button 
        (click)="selectCategory(null)"
        [class]="selectedCategoryId() === null ? 'bg-accent text-white border-accent' : 'bg-transparent text-text-main border-accent hover:bg-accent-light'"
        class="border rounded-lg px-3 py-1 cursor-pointer transition-colors text-sm">
        All Collections
      </button>

      @for (category of categories(); track category._id) {
        <button 
          (click)="selectCategory(category._id)"
          [class]="selectedCategoryId() === category._id ? 'bg-accent text-white border-accent' : 'bg-transparent text-text-main border-accent hover:bg-accent-light'"
          class="border rounded-lg px-3 py-1 cursor-pointer transition-colors text-sm">
          {{ category.name }}
        </button>
      }
    </div>

    <!-- Books Grid -->
    <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
      @for (book of books(); track book._id) {
        <app-book-card [book]="book" />
      }
    </div>

    <!-- @if (isLoading) {
      <div class="flex justify-center mt-12">
        <p-progress-spinner />
      </div>
    } -->

  </div>
</div>