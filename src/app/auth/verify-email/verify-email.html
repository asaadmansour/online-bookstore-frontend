
<div class="min-h-screen flex items-center justify-center" style="background: var(--color-bg)">
  <div class="w-full max-w-md px-4">
    <div class="bg-white rounded-lg shadow-md">
      <div class="p-6 text-center">
        <div class="mx-auto mb-3 rounded-full flex items-center justify-center bg-green-50"
          style="width:64px;height:64px">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 text-green-600" fill="none" viewBox="0 0 24 24"
            stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M21.75 9v.906a2.25 2.25 0 01-1.183 1.981l-6.478 3.488M2.25 9v.906a2.25 2.25 0 001.183 1.981l6.478 3.488m8.839 2.51l-4.66-2.51m0 0l-1.023-.55a2.25 2.25 0 00-2.134 0l-1.022.55m0 0l-4.661 2.51m16.5 1.615a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V8.844a2.25 2.25 0 011.183-1.98l7.5-4.04a2.25 2.25 0 012.134 0l7.5 4.04a2.25 2.25 0 011.183 1.98V17.625z" />
          </svg>
        </div>

        <h5 class="font-semibold mb-1">Verify Your Email</h5>
        <p class="text-sm text-gray-500 mb-4">Enter the 6-digit code sent to <strong class="text-gray-900">{{ email ||
            'your email' }}</strong></p>

        @if (error) {
        <div class="bg-red-50 text-red-700 rounded px-3 py-2 text-sm mb-2">{{ error }}</div>
        }
        @if (success) {
        <div class="bg-green-50 text-green-700 rounded px-3 py-2 text-sm mb-2">{{ success }}</div>
        }

        <form [formGroup]="form" (ngSubmit)="onSubmit()" class="mb-3">
          <input type="text" formControlName="code" maxlength="6"
            class="w-full text-center font-mono font-semibold mb-3 border border-gray-200 rounded px-3 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 uppercase"
            style="letter-spacing:0.5em;font-size:1.75rem" placeholder="------" />

          @if (form.get('code')?.touched && form.get('code')?.invalid) {
          <small class="text-red-600 block mb-3">Enter exactly 6 alphanumeric characters</small>
          }

          <button type="submit"
            class="w-full px-4 py-2 bg-gradient-to-r from-green-500 to-green-400 text-white rounded font-semibold"
            [disabled]="loading || form.invalid">
            @if (loading) {
            <svg class="animate-spin h-4 w-4 inline-block mr-2 text-white" xmlns="http://www.w3.org/2000/svg"
              fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
            </svg>
            Verifying…
            } @else {
            Verify Email
            }
          </button>
        </form>

        <p class="text-sm text-gray-500 mb-0">
          Didn't receive a code?
          <button class="text-sm font-semibold text-gray-700 ml-1" (click)="resend()"
            [disabled]="resendLoading || resendCooldown > 0">
            @if (resendLoading) {
            Sending…
            } @else if (resendCooldown > 0) {
            Resend in {{ resendCooldown }}s
            } @else {
            Resend Code
            }
          </button>
        </p>

        <a routerLink="/auth/login" class="text-sm text-gray-500 block mt-3 inline-flex items-center gap-1">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24"
            stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
          </svg>
          Back to Sign In
        </a>
      </div>
    </div>
  </div>
</div>