<!-- src/app/auth/verify-email/verify-email.html -->
<div class="min-h-screen flex items-center justify-center bg-gray-50 px-4">
  <div class="w-full max-w-md bg-white rounded-2xl shadow-lg p-8 text-center">
    <!-- icon -->
    <div class="mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100">
      <svg
        class="h-8 w-8 text-blue-600"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
        />
      </svg>
    </div>

    <h1 class="text-2xl font-bold mb-2">Verify Your Email</h1>
    <p class="text-gray-500 text-sm mb-6">
      Enter the 6-digit code sent to
      <strong class="text-gray-700">{{ email || 'your email' }}</strong>
    </p>

    @if (error) {
      <div class="mb-4 rounded-lg bg-red-50 border border-red-200 text-red-700 px-4 py-3 text-sm">
        {{ error }}
      </div>
    }
    @if (success) {
      <div
        class="mb-4 rounded-lg bg-green-50 border border-green-200 text-green-700 px-4 py-3 text-sm"
      >
        {{ success }}
      </div>
    }

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-6">
      <input
        type="text"
        formControlName="code"
        maxlength="6"
        class="w-64 mx-auto block text-center text-3xl tracking-[0.5em] font-mono border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 outline-none"
        placeholder="------"
      />
      @if (form.get('code')?.touched && form.get('code')?.invalid) {
        <p class="text-red-500 text-xs">Enter the 6-character code (letters or digits)</p>
      }

      <button
        type="submit"
        [disabled]="loading || form.invalid"
        class="w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold py-2.5 rounded-lg transition"
      >
        {{ loading ? 'Verifying…' : 'Verify' }}
      </button>
    </form>

    <div class="mt-6 text-sm text-gray-500">
      Didn't receive a code?
      <button
        (click)="resend()"
        [disabled]="resendLoading || resendCooldown > 0"
        class="text-blue-600 hover:underline font-medium disabled:text-gray-400 disabled:no-underline"
      >
        @if (resendLoading) {
          Sending…
        } @else if (resendCooldown > 0) {
          Resend in {{ resendCooldown }}s
        } @else {
          Resend Code
        }
      </button>
    </div>

    <p class="mt-4 text-sm">
      <a routerLink="/auth/login" class="text-blue-600 hover:underline">← Back to Login</a>
    </p>
  </div>
</div>
