import{a as B,b as a,c as D,d as F,g as Q,j as z,k as q,t as H,v as Z}from"./chunk-7DBQ4MYW.js";import{c as V}from"./chunk-FDXW7EDF.js";import{k as G,l as j}from"./chunk-Q3W3MUE3.js";import{Bc as T,Ca as o,Fb as h,Ib as r,Kb as A,Ra as P,S as C,Z as p,_ as S,a as k,c as L,cb as u,db as c,ib as _,jb as t,kb as n,lb as s,ub as E,wb as R}from"./chunk-6EE3YYJG.js";function J(i,l){if(i&1&&(t(0,"div",30),p(),t(1,"svg",50),s(2,"path",51),n(),r(3),n()),i&2){let d=R();o(3),A(" ",d.error," ")}}function $(i,l){i&1&&(t(0,"p",35),r(1,"3-15 letters only"),n())}function K(i,l){i&1&&(t(0,"p",35),r(1,"3-15 letters only"),n())}function O(i,l){i&1&&(t(0,"p",35),r(1,"Enter a valid email"),n())}function U(i,l){i&1&&(p(),t(0,"svg",42),s(1,"path",52),n())}function W(i,l){i&1&&(p(),t(0,"svg",42),s(1,"path",53)(2,"path",54),n())}function X(i,l){i&1&&(t(0,"p",35),r(1,"Min 8 characters"),n())}function Y(i,l){i&1&&(t(0,"p",35),r(1,"Passwords don't match"),n())}function ee(i,l){i&1&&(p(),t(0,"svg",55),s(1,"circle",56)(2,"path",57),n(),r(3," Creating account\u2026 "))}function te(i,l){i&1&&(r(0," Create Account "),p(),t(1,"svg",58),s(2,"path",59),n())}var I=class i{form;error="";loading=!1;showPassword=!1;fb=C(H);auth=C(V);router=C(G);constructor(){this.form=this.fb.group({firstName:["",[a.required,a.minLength(3),a.maxLength(15),a.pattern(/^[A-Za-z]+$/)]],lastName:["",[a.required,a.minLength(3),a.maxLength(15),a.pattern(/^[A-Za-z]+$/)]],email:["",[a.required,a.email]],password:["",[a.required,a.minLength(8),a.maxLength(50)]],confirmPassword:["",[a.required]],dob:[""]},{validators:this.passwordsMatch})}passwordsMatch(l){let d=l.get("password")?.value,e=l.get("confirmPassword")?.value;return d===e?null:{passwordsMismatch:!0}}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading=!0,this.error="";let f=this.form.value,{dob:l,confirmPassword:d}=f,e=L(f,["dob","confirmPassword"]),m=k(k({},e),l?{dob:l}:{});this.auth.register(m).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/auth/verify-email"],{queryParams:{email:m.email}})},error:g=>{this.loading=!1,this.error=g?.error?.error||g?.message||"Registration failed"}})}static \u0275fac=function(d){return new(d||i)};static \u0275cmp=P({type:i,selectors:[["app-register"]],decls:80,vars:21,consts:[[1,"min-h-screen","flex",2,"background","#f5f5f0"],[1,"hidden","lg:flex","w-1/2","rounded-r-3xl","relative","flex-col","justify-between","p-10",2,"background","linear-gradient(180deg, #e8f5e9 0%, #c8e6c9 50%, #a5d6a7 100%)"],["routerLink","/",1,"flex","items-center","gap-2"],[1,"w-9","h-9","rounded-lg","bg-white/60","border","border-green-300","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-5","h-5","text-green-800"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"],[1,"font-bold","text-green-900"],[1,"flex-1","flex","items-center","justify-center"],[1,"text-center"],["viewBox","0 0 200 200","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-64","h-64","mx-auto","mb-6","drop-shadow-lg"],["x","30","y","130","width","140","height","24","rx","3","fill","#2e7d32","stroke","#1b5e20","stroke-width","1"],["x","34","y","133","width","3","height","18","rx","1","fill","#4caf50","opacity","0.5"],["x","40","y","104","width","130","height","24","rx","3","fill","#66bb6a","stroke","#43a047","stroke-width","1"],["x","44","y","107","width","3","height","18","rx","1","fill","#a5d6a7","opacity","0.5"],["d","M50 100 Q100 70 100 85 Q100 70 150 100 L150 60 Q100 30 100 45 Q100 30 50 60 Z","fill","#e8f5e9","stroke","#43a047","stroke-width","1.5"],["d","M100 85 L100 45","stroke","#43a047","stroke-width","1","stroke-dasharray","3 2"],["d","M55 95 Q100 68 100 82","stroke","#81c784","stroke-width","0.8","fill","none"],["d","M60 92 Q100 70 100 80","stroke","#81c784","stroke-width","0.6","fill","none"],["d","M145 95 Q100 68 100 82","stroke","#81c784","stroke-width","0.8","fill","none"],["d","M140 92 Q100 70 100 80","stroke","#81c784","stroke-width","0.6","fill","none"],["cx","70","cy","50","r","4","fill","#fdd835","opacity","0.7"],["d","M130 42 L134 38 L138 42 L134 46 Z","fill","#fdd835","opacity","0.6"],["cx","155","cy","55","r","3","fill","#fdd835","opacity","0.5"],["d","M45 70 L48 65 L51 70","stroke","#43a047","stroke-width","1.5","fill","none"],["cx","160","cy","75","r","2","fill","#81c784","opacity","0.6"],[1,"text-sm","text-green-800","font-medium"],[1,"flex-1","flex","items-center","justify-center","px-6","py-12","overflow-y-auto"],[1,"w-full","max-w-lg"],[1,"text-3xl","font-bold","text-gray-900","mb-1"],[1,"text-gray-500","mb-8"],[1,"bg-red-50","border","border-red-100","text-red-700","rounded-lg","px-4","py-3","flex","items-center","gap-2","text-sm","mb-5"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-2","gap-4","mb-5"],[1,"block","text-sm","font-semibold","text-gray-700","mb-2"],["type","text","formControlName","firstName","placeholder","John",1,"w-full","px-4","py-3.5","bg-white","border","border-gray-200","rounded-xl","text-sm","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-green-500","transition"],[1,"text-red-500","text-xs","mt-1.5"],["type","text","formControlName","lastName","placeholder","Doe",1,"w-full","px-4","py-3.5","bg-white","border","border-gray-200","rounded-xl","text-sm","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-green-500","transition"],[1,"mb-5"],["type","email","formControlName","email","placeholder","name@example.com",1,"w-full","px-4","py-3.5","bg-white","border","border-gray-200","rounded-xl","text-sm","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-green-500","transition"],[1,"flex","items-center","bg-white","border","border-gray-200","rounded-xl","overflow-hidden","focus-within:ring-2","focus-within:ring-green-500","focus-within:border-green-500","transition"],["formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"flex-1","min-w-0","px-4","py-3.5","bg-transparent","border-0","text-sm","focus:outline-none","focus:ring-0",3,"type"],["type","button",1,"pr-3","text-gray-400","hover:text-gray-600",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","1.5",1,"w-4","h-4"],["type","password","formControlName","confirmPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","px-4","py-3.5","bg-white","border","border-gray-200","rounded-xl","text-sm","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-green-500","transition"],[1,"mb-6"],[1,"text-gray-400","font-normal"],["type","date","formControlName","dob",1,"w-full","px-4","py-3.5","bg-white","border","border-gray-200","rounded-xl","text-sm","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-green-500","transition"],["type","submit",1,"w-full","py-3.5","rounded-xl","font-semibold","text-white","bg-gradient-to-r","from-green-500","to-green-400","hover:from-green-600","hover:to-green-500","shadow-lg","shadow-green-500/25","transition-all","disabled:opacity-60","flex","items-center","justify-center","gap-2",3,"disabled"],[1,"text-center","text-sm","text-gray-500","mt-8"],["routerLink","/auth/login",1,"font-semibold","text-green-600","hover:text-green-700"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-4","h-4","shrink-0"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"],["stroke-linecap","round","stroke-linejoin","round","d","M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",1,"opacity-75"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","d","M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"]],template:function(d,e){if(d&1&&(t(0,"div",0)(1,"div",1)(2,"a",2)(3,"div",3),p(),t(4,"svg",4),s(5,"path",5),n()(),S(),t(6,"span",6),r(7,"Book Store"),n()(),t(8,"div",7)(9,"div",8),p(),t(10,"svg",9),s(11,"rect",10)(12,"rect",11)(13,"rect",12)(14,"rect",13)(15,"path",14)(16,"path",15)(17,"path",16)(18,"path",17)(19,"path",18)(20,"path",19)(21,"circle",20)(22,"path",21)(23,"circle",22)(24,"path",23)(25,"circle",24),n()()(),S(),t(26,"p",25),r(27,"Join 50,000+ readers worldwide"),n()(),t(28,"div",26)(29,"div",27)(30,"h1",28),r(31,"Create Account"),n(),t(32,"p",29),r(33,"Discover your next favorite story today."),n(),u(34,J,4,1,"div",30),t(35,"form",31),E("ngSubmit",function(){return e.onSubmit()}),t(36,"div",32)(37,"div")(38,"label",33),r(39,"First Name"),n(),s(40,"input",34),u(41,$,2,0,"p",35),n(),t(42,"div")(43,"label",33),r(44,"Last Name"),n(),s(45,"input",36),u(46,K,2,0,"p",35),n()(),t(47,"div",37)(48,"label",33),r(49,"Email Address"),n(),s(50,"input",38),u(51,O,2,0,"p",35),n(),t(52,"div",32)(53,"div")(54,"label",33),r(55,"Password"),n(),t(56,"div",39),s(57,"input",40),t(58,"button",41),E("click",function(){return e.showPassword=!e.showPassword}),u(59,U,2,0,":svg:svg",42)(60,W,3,0,":svg:svg",42),n()(),u(61,X,2,0,"p",35),n(),t(62,"div")(63,"label",33),r(64,"Confirm Password"),n(),s(65,"input",43),u(66,Y,2,0,"p",35),n()(),t(67,"div",44)(68,"label",33),r(69,"Date of Birth "),t(70,"span",45),r(71,"(optional)"),n()(),s(72,"input",46),n(),t(73,"button",47),u(74,ee,4,0)(75,te,3,0),n()(),t(76,"p",48),r(77," Already have an account? "),t(78,"a",49),r(79,"Log In"),n()()()()()),d&2){let m,f,g,w,x,v,b,y,M,N;o(34),c(e.error?34:-1),o(),_("formGroup",e.form),o(5),h("border-red-400",((m=e.form.get("firstName"))==null?null:m.touched)&&((m=e.form.get("firstName"))==null?null:m.invalid)),o(),c((f=e.form.get("firstName"))!=null&&f.touched&&((f=e.form.get("firstName"))!=null&&f.invalid)?41:-1),o(4),h("border-red-400",((g=e.form.get("lastName"))==null?null:g.touched)&&((g=e.form.get("lastName"))==null?null:g.invalid)),o(),c((w=e.form.get("lastName"))!=null&&w.touched&&((w=e.form.get("lastName"))!=null&&w.invalid)?46:-1),o(4),h("border-red-400",((x=e.form.get("email"))==null?null:x.touched)&&((x=e.form.get("email"))==null?null:x.invalid)),o(),c((v=e.form.get("email"))!=null&&v.touched&&((v=e.form.get("email"))!=null&&v.invalid)?51:-1),o(5),h("border-red-400",((b=e.form.get("password"))==null?null:b.touched)&&((b=e.form.get("password"))==null?null:b.invalid)),o(),_("type",e.showPassword?"text":"password"),o(2),c(e.showPassword?59:60),o(2),c((y=e.form.get("password"))!=null&&y.touched&&((y=e.form.get("password"))!=null&&y.hasError("minlength"))?61:-1),o(4),h("border-red-400",((M=e.form.get("confirmPassword"))==null?null:M.touched)&&e.form.hasError("passwordsMismatch")),o(),c((N=e.form.get("confirmPassword"))!=null&&N.touched&&e.form.hasError("passwordsMismatch")?66:-1),o(7),_("disabled",e.loading),o(),c(e.loading?74:75)}},dependencies:[T,Z,Q,B,D,F,q,z,j],encapsulation:2})};export{I as RegisterComponent};
