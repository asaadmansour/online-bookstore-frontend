import{a as B,b as s,c as V,d as F,f as z,g as H,h as D,m as Q,o as q}from"./chunk-E56WDDHT.js";import{b as I}from"./chunk-RG2YIT24.js";import"./chunk-HOACR73J.js";import{h as G,i as j}from"./chunk-X5XJS3OX.js";import{Aa as _,Ea as A,Pa as u,Qa as p,Tb as T,V as m,Va as S,W as w,Wa as e,Xa as t,Ya as l,a as k,c as L,cb as E,eb as P,jb as h,lb as n,nb as R,sa as o}from"./chunk-QMVCZU7Z.js";function J(r,a){if(r&1&&(e(0,"div",30),m(),e(1,"svg",62),l(2,"path",63),t(),n(3),t()),r&2){let d=P();o(3),R(" ",d.error," ")}}function $(r,a){r&1&&(e(0,"p",35),n(1,"3-15 letters only"),t())}function O(r,a){r&1&&(e(0,"p",35),n(1,"3-15 letters only"),t())}function K(r,a){r&1&&(e(0,"p",35),n(1,"Enter a valid email"),t())}function U(r,a){r&1&&(m(),e(0,"svg",42),l(1,"path",64),t())}function W(r,a){r&1&&(m(),e(0,"svg",42),l(1,"path",65)(2,"path",66),t())}function X(r,a){r&1&&(e(0,"p",35),n(1,"Min 8 characters"),t())}function Y(r,a){r&1&&(e(0,"p",35),n(1,"Passwords don't match"),t())}function ee(r,a){r&1&&(m(),e(0,"svg",67),l(1,"circle",68)(2,"path",69),t(),n(3," Creating account\u2026 "))}function te(r,a){r&1&&(n(0," Create Account "),m(),e(1,"svg",70),l(2,"path",71),t())}var Z=class r{constructor(a,d,i){this.fb=a;this.auth=d;this.router=i;this.form=this.fb.group({firstName:["",[s.required,s.minLength(3),s.maxLength(15),s.pattern(/^[A-Za-z]+$/)]],lastName:["",[s.required,s.minLength(3),s.maxLength(15),s.pattern(/^[A-Za-z]+$/)]],email:["",[s.required,s.email]],password:["",[s.required,s.minLength(8),s.maxLength(50)]],confirmPassword:["",[s.required]],dob:[""]},{validators:this.passwordsMatch})}form;error="";loading=!1;showPassword=!1;passwordsMatch(a){let d=a.get("password")?.value,i=a.get("confirmPassword")?.value;return d===i?null:{passwordsMismatch:!0}}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading=!0,this.error="";let f=this.form.value,{confirmPassword:a,dob:d}=f,i=L(f,["confirmPassword","dob"]),c=k(k({},i),d?{dob:d}:{});this.auth.register(c).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/auth/verify-email"],{queryParams:{email:c.email}})},error:g=>{this.loading=!1,this.error=g?.error?.error||g?.message||"Registration failed"}})}static \u0275fac=function(d){return new(d||r)(_(Q),_(I),_(G))};static \u0275cmp=A({type:r,selectors:[["app-register"]],decls:97,vars:21,consts:[[1,"min-h-screen","flex",2,"background","#f5f5f0"],[1,"hidden","lg:flex","lg:w-5/12","relative","flex-col","justify-between","p-10",2,"background","linear-gradient(180deg, #e8f5e9 0%, #c8e6c9 50%, #a5d6a7 100%)"],["routerLink","/",1,"flex","items-center","gap-2"],[1,"w-9","h-9","rounded-lg","bg-white/60","border","border-green-300","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-5","h-5","text-green-800"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"],[1,"font-bold","text-green-900"],[1,"flex-1","flex","items-center","justify-center"],[1,"text-center"],["viewBox","0 0 200 200","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-64","h-64","mx-auto","mb-6","drop-shadow-lg"],["x","30","y","130","width","140","height","24","rx","3","fill","#2e7d32","stroke","#1b5e20","stroke-width","1"],["x","34","y","133","width","3","height","18","rx","1","fill","#4caf50","opacity","0.5"],["x","40","y","104","width","130","height","24","rx","3","fill","#66bb6a","stroke","#43a047","stroke-width","1"],["x","44","y","107","width","3","height","18","rx","1","fill","#a5d6a7","opacity","0.5"],["d","M50 100 Q100 70 100 85 Q100 70 150 100 L150 60 Q100 30 100 45 Q100 30 50 60 Z","fill","#e8f5e9","stroke","#43a047","stroke-width","1.5"],["d","M100 85 L100 45","stroke","#43a047","stroke-width","1","stroke-dasharray","3 2"],["d","M55 95 Q100 68 100 82","stroke","#81c784","stroke-width","0.8","fill","none"],["d","M60 92 Q100 70 100 80","stroke","#81c784","stroke-width","0.6","fill","none"],["d","M145 95 Q100 68 100 82","stroke","#81c784","stroke-width","0.8","fill","none"],["d","M140 92 Q100 70 100 80","stroke","#81c784","stroke-width","0.6","fill","none"],["cx","70","cy","50","r","4","fill","#fdd835","opacity","0.7"],["d","M130 42 L134 38 L138 42 L134 46 Z","fill","#fdd835","opacity","0.6"],["cx","155","cy","55","r","3","fill","#fdd835","opacity","0.5"],["d","M45 70 L48 65 L51 70","stroke","#43a047","stroke-width","1.5","fill","none"],["cx","160","cy","75","r","2","fill","#81c784","opacity","0.6"],[1,"text-sm","text-green-800","font-medium"],[1,"flex-1","flex","items-center","justify-center","px-6","py-12","overflow-y-auto"],[1,"w-full","max-w-lg"],[1,"text-3xl","font-bold","text-gray-900","mb-1"],[1,"text-gray-500","mb-8"],[1,"bg-red-50","border","border-red-100","text-red-700","rounded-lg","px-4","py-3","flex","items-center","gap-2","text-sm","mb-5"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-2","gap-4","mb-5"],[1,"block","text-sm","font-semibold","text-gray-700","mb-2"],["type","text","formControlName","firstName","placeholder","John",1,"w-full","px-4","py-3.5","bg-white","border","border-gray-200","rounded-xl","text-sm","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-green-500","transition"],[1,"text-red-500","text-xs","mt-1.5"],["type","text","formControlName","lastName","placeholder","Doe",1,"w-full","px-4","py-3.5","bg-white","border","border-gray-200","rounded-xl","text-sm","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-green-500","transition"],[1,"mb-5"],["type","email","formControlName","email","placeholder","name@example.com",1,"w-full","px-4","py-3.5","bg-white","border","border-gray-200","rounded-xl","text-sm","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-green-500","transition"],[1,"flex","items-center","bg-white","border","border-gray-200","rounded-xl","overflow-hidden","focus-within:ring-2","focus-within:ring-green-500","focus-within:border-green-500","transition"],["formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"flex-1","px-4","py-3.5","bg-transparent","text-sm","focus:outline-none",3,"type"],["type","button",1,"pr-3","text-gray-400","hover:text-gray-600",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","1.5",1,"w-4","h-4"],["type","password","formControlName","confirmPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","px-4","py-3.5","bg-white","border","border-gray-200","rounded-xl","text-sm","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-green-500","transition"],[1,"mb-6"],[1,"text-gray-400","font-normal"],["type","date","formControlName","dob",1,"w-full","px-4","py-3.5","bg-white","border","border-gray-200","rounded-xl","text-sm","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-green-500","transition"],["type","submit",1,"w-full","py-3.5","rounded-xl","font-semibold","text-white","bg-gradient-to-r","from-green-500","to-green-400","hover:from-green-600","hover:to-green-500","shadow-lg","shadow-green-500/25","transition-all","disabled:opacity-60","flex","items-center","justify-center","gap-2",3,"disabled"],[1,"flex","items-center","gap-4","my-7"],[1,"flex-1","h-px","bg-gray-200"],[1,"text-xs","text-gray-400","font-medium","uppercase","tracking-wider"],[1,"grid","grid-cols-2","gap-3","mb-8"],["type","button",1,"flex","items-center","justify-center","gap-2","py-3","border","border-gray-200","rounded-xl","bg-white","hover:bg-gray-50","text-sm","font-medium","text-gray-700","transition"],["viewBox","0 0 24 24",1,"w-5","h-5"],["d","M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z","fill","#4285F4"],["d","M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z","fill","#34A853"],["d","M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z","fill","#FBBC05"],["d","M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z","fill","#EA4335"],["viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5"],["d","M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"],[1,"text-center","text-sm","text-gray-500"],["routerLink","/auth/login",1,"font-semibold","text-green-600","hover:text-green-700"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-4","h-4","shrink-0"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"],["stroke-linecap","round","stroke-linejoin","round","d","M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",1,"opacity-75"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","d","M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"]],template:function(d,i){if(d&1&&(e(0,"div",0)(1,"div",1)(2,"a",2)(3,"div",3),m(),e(4,"svg",4),l(5,"path",5),t()(),w(),e(6,"span",6),n(7,"Book Store"),t()(),e(8,"div",7)(9,"div",8),m(),e(10,"svg",9),l(11,"rect",10)(12,"rect",11)(13,"rect",12)(14,"rect",13)(15,"path",14)(16,"path",15)(17,"path",16)(18,"path",17)(19,"path",18)(20,"path",19)(21,"circle",20)(22,"path",21)(23,"circle",22)(24,"path",23)(25,"circle",24),t()()(),w(),e(26,"p",25),n(27,"Join 50,000+ readers worldwide"),t()(),e(28,"div",26)(29,"div",27)(30,"h1",28),n(31,"Create Account"),t(),e(32,"p",29),n(33,"Discover your next favorite story today."),t(),u(34,J,4,1,"div",30),e(35,"form",31),E("ngSubmit",function(){return i.onSubmit()}),e(36,"div",32)(37,"div")(38,"label",33),n(39,"First Name"),t(),l(40,"input",34),u(41,$,2,0,"p",35),t(),e(42,"div")(43,"label",33),n(44,"Last Name"),t(),l(45,"input",36),u(46,O,2,0,"p",35),t()(),e(47,"div",37)(48,"label",33),n(49,"Email Address"),t(),l(50,"input",38),u(51,K,2,0,"p",35),t(),e(52,"div",32)(53,"div")(54,"label",33),n(55,"Password"),t(),e(56,"div",39),l(57,"input",40),e(58,"button",41),E("click",function(){return i.showPassword=!i.showPassword}),u(59,U,2,0,":svg:svg",42)(60,W,3,0,":svg:svg",42),t()(),u(61,X,2,0,"p",35),t(),e(62,"div")(63,"label",33),n(64,"Confirm Password"),t(),l(65,"input",43),u(66,Y,2,0,"p",35),t()(),e(67,"div",44)(68,"label",33),n(69,"Date of Birth "),e(70,"span",45),n(71,"(optional)"),t()(),l(72,"input",46),t(),e(73,"button",47),u(74,ee,4,0)(75,te,3,0),t()(),e(76,"div",48),l(77,"div",49),e(78,"span",50),n(79,"Or sign up with"),t(),l(80,"div",49),t(),e(81,"div",51)(82,"button",52),m(),e(83,"svg",53),l(84,"path",54)(85,"path",55)(86,"path",56)(87,"path",57),t(),n(88," Google "),t(),w(),e(89,"button",52),m(),e(90,"svg",58),l(91,"path",59),t(),n(92," GitHub "),t()(),w(),e(93,"p",60),n(94," Already have an account? "),e(95,"a",61),n(96,"Log In"),t()()()()()),d&2){let c,f,g,v,x,b,y,C,M,N;o(34),p(i.error?34:-1),o(),S("formGroup",i.form),o(5),h("border-red-400",((c=i.form.get("firstName"))==null?null:c.touched)&&((c=i.form.get("firstName"))==null?null:c.invalid)),o(),p((f=i.form.get("firstName"))!=null&&f.touched&&((f=i.form.get("firstName"))!=null&&f.invalid)?41:-1),o(4),h("border-red-400",((g=i.form.get("lastName"))==null?null:g.touched)&&((g=i.form.get("lastName"))==null?null:g.invalid)),o(),p((v=i.form.get("lastName"))!=null&&v.touched&&((v=i.form.get("lastName"))!=null&&v.invalid)?46:-1),o(4),h("border-red-400",((x=i.form.get("email"))==null?null:x.touched)&&((x=i.form.get("email"))==null?null:x.invalid)),o(),p((b=i.form.get("email"))!=null&&b.touched&&((b=i.form.get("email"))!=null&&b.invalid)?51:-1),o(5),h("border-red-400",((y=i.form.get("password"))==null?null:y.touched)&&((y=i.form.get("password"))==null?null:y.invalid)),o(),S("type",i.showPassword?"text":"password"),o(2),p(i.showPassword?59:60),o(2),p((C=i.form.get("password"))!=null&&C.touched&&((C=i.form.get("password"))!=null&&C.hasError("minlength"))?61:-1),o(4),h("border-red-400",((M=i.form.get("confirmPassword"))==null?null:M.touched)&&i.form.hasError("passwordsMismatch")),o(),p((N=i.form.get("confirmPassword"))!=null&&N.touched&&i.form.hasError("passwordsMismatch")?66:-1),o(7),S("disabled",i.loading),o(),p(i.loading?74:75)}},dependencies:[T,q,z,B,V,F,D,H,j],encapsulation:2})};export{Z as RegisterComponent};
