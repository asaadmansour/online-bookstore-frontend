import{a as L,b as g,c as M,d as j,f as T,g as V,h as G,m as A,o as B}from"./chunk-E56WDDHT.js";import{b as F}from"./chunk-RG2YIT24.js";import"./chunk-HOACR73J.js";import{h as k,i as E}from"./chunk-X5XJS3OX.js";import{Aa as x,Ea as S,Pa as d,Qa as s,Tb as _,V as m,Va as w,W as u,Wa as e,Xa as t,Ya as r,cb as b,eb as C,lb as i,nb as y,sa as a}from"./chunk-QMVCZU7Z.js";function z(n,l){if(n&1&&(e(0,"div",16),m(),e(1,"svg",48),r(2,"path",49),t(),i(3),t()),n&2){let p=C();a(3),y(" ",p.error," ")}}function N(n,l){n&1&&(e(0,"p",25),i(1,"Email is required"),t())}function P(n,l){n&1&&(e(0,"p",25),i(1,"Enter a valid email"),t())}function q(n,l){n&1&&(m(),e(0,"svg",22),r(1,"path",50),t())}function D(n,l){n&1&&(m(),e(0,"svg",22),r(1,"path",51)(2,"path",52),t())}function I(n,l){n&1&&(e(0,"p",25),i(1,"Password is required"),t())}function R(n,l){n&1&&(e(0,"p",25),i(1,"Minimum 8 characters"),t())}function U(n,l){n&1&&(m(),e(0,"svg",53),r(1,"circle",54)(2,"path",55),t(),i(3," Signing in\u2026 "))}function J(n,l){n&1&&(i(0," Sign In "),m(),e(1,"svg",56),r(2,"path",57),t())}var H=class n{constructor(l,p,o){this.fb=l;this.auth=p;this.router=o;this.form=this.fb.group({email:["",[g.required,g.email]],password:["",[g.required,g.minLength(8)]]})}form;error="";loading=!1;showPassword=!1;onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading=!0,this.error="",this.auth.login(this.form.value).subscribe({next:()=>{this.loading=!1;let l=this.auth.currentUser?.role;this.router.navigate([l==="admin"?"/admin":"/"])},error:l=>{this.loading=!1,this.error=l?.error?.error||l?.message||"Login failed"}})}static \u0275fac=function(p){return new(p||n)(x(A),x(F),x(k))};static \u0275cmp=S({type:n,selectors:[["app-login"]],decls:75,vars:10,consts:[[1,"min-h-screen","flex",2,"background","#f5f5f0"],[1,"hidden","lg:flex","lg:w-1/2","relative","overflow-hidden","rounded-r-3xl"],["src","images/auth-bookshelf.png","alt","Curated bookshelf",1,"absolute","inset-0","w-full","h-full","object-cover"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/60","via-transparent","to-transparent"],[1,"relative","z-10","flex","flex-col","justify-end","p-10"],[1,"text-white","text-3xl","font-bold","leading-snug","mb-2"],[1,"text-white/80","text-sm"],[1,"flex-1","flex","items-center","justify-center","px-6","py-12"],[1,"w-full","max-w-md"],["routerLink","/",1,"flex","items-center","gap-2","mb-8"],[1,"w-9","h-9","rounded-lg","bg-green-100","border","border-green-200","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-5","h-5","text-green-700"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"],[1,"font-bold","text-gray-900"],[1,"text-3xl","font-bold","text-gray-900","mb-1"],[1,"text-gray-500","mb-8"],[1,"bg-red-50","border","border-red-100","text-red-700","rounded-lg","px-4","py-3","flex","items-center","gap-2","text-sm","mb-5"],[3,"ngSubmit","formGroup"],[1,"mb-5"],[1,"block","text-sm","font-semibold","text-gray-700","mb-2"],[1,"flex","items-center","bg-white","border","border-gray-200","rounded-xl","overflow-hidden","focus-within:ring-2","focus-within:ring-green-500","focus-within:border-green-500","transition"],[1,"pl-4","pr-2","text-gray-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","1.5",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"],["type","email","formControlName","email","placeholder","name@example.com",1,"flex-1","px-3","py-3.5","bg-transparent","text-sm","focus:outline-none"],[1,"text-red-500","text-xs","mt-1.5"],[1,"mb-6"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-sm","font-semibold","text-gray-700"],["href","#",1,"text-xs","font-semibold","text-green-600","hover:text-green-700"],["stroke-linecap","round","stroke-linejoin","round","d","M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"],["formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"flex-1","px-3","py-3.5","bg-transparent","text-sm","focus:outline-none",3,"type"],["type","button",1,"pr-4","pl-2","text-gray-400","hover:text-gray-600",3,"click"],["type","submit",1,"w-full","py-3.5","rounded-xl","font-semibold","text-white","bg-gradient-to-r","from-green-500","to-green-400","hover:from-green-600","hover:to-green-500","shadow-lg","shadow-green-500/25","transition-all","disabled:opacity-60","flex","items-center","justify-center","gap-2",3,"disabled"],[1,"flex","items-center","gap-4","my-7"],[1,"flex-1","h-px","bg-gray-200"],[1,"text-xs","text-gray-400","font-medium","uppercase","tracking-wider"],[1,"grid","grid-cols-2","gap-3","mb-8"],["type","button",1,"flex","items-center","justify-center","gap-2","py-3","border","border-gray-200","rounded-xl","bg-white","hover:bg-gray-50","text-sm","font-medium","text-gray-700","transition"],["viewBox","0 0 24 24",1,"w-5","h-5"],["d","M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z","fill","#4285F4"],["d","M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z","fill","#34A853"],["d","M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z","fill","#FBBC05"],["d","M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z","fill","#EA4335"],["viewBox","0 0 24 24","fill","#1877F2",1,"w-5","h-5"],["d","M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"],[1,"text-center","text-sm","text-gray-500"],["routerLink","/auth/register",1,"font-semibold","text-green-600","hover:text-green-700"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-4","h-4","shrink-0"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"],["stroke-linecap","round","stroke-linejoin","round","d","M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",1,"opacity-75"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","d","M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"]],template:function(p,o){if(p&1&&(e(0,"div",0)(1,"div",1),r(2,"img",2)(3,"div",3),e(4,"div",4)(5,"h2",5),i(6,"Curated for the"),r(7,"br"),i(8,"curious mind."),t(),e(9,"p",6),i(10,"Join our community of over 50,000 readers."),t()()(),e(11,"div",7)(12,"div",8)(13,"a",9)(14,"div",10),m(),e(15,"svg",11),r(16,"path",12),t()(),u(),e(17,"span",13),i(18,"Book Store"),t()(),e(19,"h1",14),i(20,"Welcome Back"),t(),e(21,"p",15),i(22,"Please enter your details to sign in."),t(),d(23,z,4,1,"div",16),e(24,"form",17),b("ngSubmit",function(){return o.onSubmit()}),e(25,"div",18)(26,"label",19),i(27,"Email Address"),t(),e(28,"div",20)(29,"div",21),m(),e(30,"svg",22),r(31,"path",23),t()(),u(),r(32,"input",24),t(),d(33,N,2,0,"p",25),d(34,P,2,0,"p",25),t(),e(35,"div",26)(36,"div",27)(37,"label",28),i(38,"Password"),t(),e(39,"a",29),i(40,"Forgot password?"),t()(),e(41,"div",20)(42,"div",21),m(),e(43,"svg",22),r(44,"path",30),t()(),u(),r(45,"input",31),e(46,"button",32),b("click",function(){return o.showPassword=!o.showPassword}),d(47,q,2,0,":svg:svg",22)(48,D,3,0,":svg:svg",22),t()(),d(49,I,2,0,"p",25),d(50,R,2,0,"p",25),t(),e(51,"button",33),d(52,U,4,0)(53,J,3,0),t()(),e(54,"div",34),r(55,"div",35),e(56,"span",36),i(57,"Or continue with"),t(),r(58,"div",35),t(),e(59,"div",37)(60,"button",38),m(),e(61,"svg",39),r(62,"path",40)(63,"path",41)(64,"path",42)(65,"path",43),t(),i(66," Google "),t(),u(),e(67,"button",38),m(),e(68,"svg",44),r(69,"path",45),t(),i(70," Facebook "),t()(),u(),e(71,"p",46),i(72," Don't have an account? "),e(73,"a",47),i(74,"Sign Up"),t()()()()()),p&2){let c,f,h,v;a(23),s(o.error?23:-1),a(),w("formGroup",o.form),a(9),s((c=o.form.get("email"))!=null&&c.touched&&((c=o.form.get("email"))!=null&&c.hasError("required"))?33:-1),a(),s((f=o.form.get("email"))!=null&&f.touched&&((f=o.form.get("email"))!=null&&f.hasError("email"))?34:-1),a(11),w("type",o.showPassword?"text":"password"),a(2),s(o.showPassword?47:48),a(2),s((h=o.form.get("password"))!=null&&h.touched&&((h=o.form.get("password"))!=null&&h.hasError("required"))?49:-1),a(),s((v=o.form.get("password"))!=null&&v.touched&&((v=o.form.get("password"))!=null&&v.hasError("minlength"))?50:-1),a(),w("disabled",o.loading),a(),s(o.loading?52:53)}},dependencies:[_,B,T,L,M,j,G,V,E],encapsulation:2})};export{H as LoginComponent};
