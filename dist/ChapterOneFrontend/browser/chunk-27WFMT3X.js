import{a as M,b as c,c as j,d as T,g as G,j as V,k as A,t as B,v as F}from"./chunk-7DBQ4MYW.js";import{c as L}from"./chunk-FDXW7EDF.js";import{k as y,l as E}from"./chunk-Q3W3MUE3.js";import{Bc as k,Ca as a,Ib as i,Kb as _,La as x,Ra as S,Z as m,_ as v,cb as s,db as d,ib as w,jb as e,kb as t,lb as l,ub as b,wb as C}from"./chunk-6EE3YYJG.js";function P(n,r){if(n&1&&(e(0,"div",16),m(),e(1,"svg",36),l(2,"path",37),t(),i(3),t()),n&2){let u=C();a(3),_(" ",u.error," ")}}function z(n,r){n&1&&(e(0,"p",25),i(1,"Email is required"),t())}function H(n,r){n&1&&(e(0,"p",25),i(1,"Enter a valid email"),t())}function q(n,r){n&1&&(m(),e(0,"svg",22),l(1,"path",38),t())}function D(n,r){n&1&&(m(),e(0,"svg",22),l(1,"path",39)(2,"path",40),t())}function I(n,r){n&1&&(e(0,"p",25),i(1,"Password is required"),t())}function R(n,r){n&1&&(e(0,"p",25),i(1,"Minimum 8 characters"),t())}function U(n,r){n&1&&(m(),e(0,"svg",41),l(1,"circle",42)(2,"path",43),t(),i(3," Signing in\u2026 "))}function J(n,r){n&1&&(i(0," Sign In "),m(),e(1,"svg",44),l(2,"path",45),t())}var N=class n{constructor(r,u,o){this.fb=r;this.auth=u;this.router=o;this.form=this.fb.group({email:["",[c.required,c.email]],password:["",[c.required,c.minLength(8)]]})}form;error="";loading=!1;showPassword=!1;onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading=!0,this.error="",this.auth.login(this.form.value).subscribe({next:()=>{this.loading=!1;let r=this.auth.currentUser?.role;this.router.navigate([r==="admin"?"/admin":"/"])},error:r=>{this.loading=!1,this.error=r?.error?.error||r?.message||"Login failed"}})}static \u0275fac=function(u){return new(u||n)(x(B),x(L),x(y))};static \u0275cmp=S({type:n,selectors:[["app-login"]],decls:58,vars:10,consts:[[1,"min-h-screen","flex",2,"background","#f5f5f0"],[1,"hidden","lg:flex","w-1/2","relative","overflow-hidden","rounded-r-3xl"],["src","images/auth-bookshelf.png","alt","Curated bookshelf",1,"absolute","inset-0","w-full","h-full","object-cover"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/60","via-transparent","to-transparent"],[1,"relative","z-10","flex","flex-col","justify-end","p-10"],[1,"text-white","text-3xl","font-bold","leading-snug","mb-2"],[1,"text-white/80","text-sm"],[1,"flex-1","flex","items-center","justify-center","px-6","py-12"],[1,"w-full","max-w-md"],["routerLink","/",1,"flex","items-center","gap-2","mb-8"],[1,"w-9","h-9","rounded-lg","bg-green-100","border","border-green-200","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-5","h-5","text-green-700"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"],[1,"font-bold","text-gray-900"],[1,"text-3xl","font-bold","text-gray-900","mb-1"],[1,"text-gray-500","mb-8"],[1,"bg-red-50","border","border-red-100","text-red-700","rounded-lg","px-4","py-3","flex","items-center","gap-2","text-sm","mb-5"],[3,"ngSubmit","formGroup"],[1,"mb-5"],[1,"block","text-sm","font-semibold","text-gray-700","mb-2"],[1,"flex","items-center","bg-white","border","border-gray-200","rounded-xl","overflow-hidden","focus-within:ring-2","focus-within:ring-green-500","focus-within:border-green-500","transition"],[1,"pl-4","pr-2","text-gray-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","1.5",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"],["type","email","formControlName","email","placeholder","name@example.com",1,"flex-1","px-3","py-3.5","bg-transparent","text-sm","focus:outline-none"],[1,"text-red-500","text-xs","mt-1.5"],[1,"mb-6"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-sm","font-semibold","text-gray-700"],["href","#",1,"text-xs","font-semibold","text-green-600","hover:text-green-700"],["stroke-linecap","round","stroke-linejoin","round","d","M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"],["formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"flex-1","px-3","py-3.5","bg-transparent","text-sm","focus:outline-none",3,"type"],["type","button",1,"pr-4","pl-2","text-gray-400","hover:text-gray-600",3,"click"],["type","submit",1,"w-full","py-3.5","rounded-xl","font-semibold","text-white","bg-gradient-to-r","from-green-500","to-green-400","hover:from-green-600","hover:to-green-500","shadow-lg","shadow-green-500/25","transition-all","disabled:opacity-60","flex","items-center","justify-center","gap-2",3,"disabled"],[1,"text-center","text-sm","text-gray-500","mt-8"],["routerLink","/auth/register",1,"font-semibold","text-green-600","hover:text-green-700"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-4","h-4","shrink-0"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"],["stroke-linecap","round","stroke-linejoin","round","d","M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",1,"opacity-75"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","d","M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"]],template:function(u,o){if(u&1&&(e(0,"div",0)(1,"div",1),l(2,"img",2)(3,"div",3),e(4,"div",4)(5,"h2",5),i(6,"Curated for the"),l(7,"br"),i(8,"curious mind."),t(),e(9,"p",6),i(10,"Join our community of over 50,000 readers."),t()()(),e(11,"div",7)(12,"div",8)(13,"a",9)(14,"div",10),m(),e(15,"svg",11),l(16,"path",12),t()(),v(),e(17,"span",13),i(18,"Book Store"),t()(),e(19,"h1",14),i(20,"Welcome Back"),t(),e(21,"p",15),i(22,"Please enter your details to sign in."),t(),s(23,P,4,1,"div",16),e(24,"form",17),b("ngSubmit",function(){return o.onSubmit()}),e(25,"div",18)(26,"label",19),i(27,"Email Address"),t(),e(28,"div",20)(29,"div",21),m(),e(30,"svg",22),l(31,"path",23),t()(),v(),l(32,"input",24),t(),s(33,z,2,0,"p",25),s(34,H,2,0,"p",25),t(),e(35,"div",26)(36,"div",27)(37,"label",28),i(38,"Password"),t(),e(39,"a",29),i(40,"Forgot password?"),t()(),e(41,"div",20)(42,"div",21),m(),e(43,"svg",22),l(44,"path",30),t()(),v(),l(45,"input",31),e(46,"button",32),b("click",function(){return o.showPassword=!o.showPassword}),s(47,q,2,0,":svg:svg",22)(48,D,3,0,":svg:svg",22),t()(),s(49,I,2,0,"p",25),s(50,R,2,0,"p",25),t(),e(51,"button",33),s(52,U,4,0)(53,J,3,0),t()(),e(54,"p",34),i(55," Don't have an account? "),e(56,"a",35),i(57,"Sign Up"),t()()()()()),u&2){let p,f,g,h;a(23),d(o.error?23:-1),a(),w("formGroup",o.form),a(9),d((p=o.form.get("email"))!=null&&p.touched&&((p=o.form.get("email"))!=null&&p.hasError("required"))?33:-1),a(),d((f=o.form.get("email"))!=null&&f.touched&&((f=o.form.get("email"))!=null&&f.hasError("email"))?34:-1),a(11),w("type",o.showPassword?"text":"password"),a(2),d(o.showPassword?47:48),a(2),d((g=o.form.get("password"))!=null&&g.touched&&((g=o.form.get("password"))!=null&&g.hasError("required"))?49:-1),a(),d((h=o.form.get("password"))!=null&&h.touched&&((h=o.form.get("password"))!=null&&h.hasError("minlength"))?50:-1),a(),w("disabled",o.loading),a(),d(o.loading?52:53)}},dependencies:[k,F,G,M,j,T,A,V,E],encapsulation:2})};export{N as LoginComponent};
